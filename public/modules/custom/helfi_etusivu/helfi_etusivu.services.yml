services:
  _defaults:
    autowire: true
    autoconfigure: true
  logger.channel.helfi_etusivu:
    parent: logger.channel_base
    arguments: ['helfi_etusivu']
    tags:
      - { name: logger.channel }
  Drupal\helfi_etusivu\Token\NewsNodeImageBuilder:
    class: Drupal\helfi_etusivu\Token\NewsNodeImageBuilder
    tags:
      - { name: helfi_platform_config.og_image_builder }

  # Roadwork data services
  Drupal\helfi_etusivu\HelsinkiNearYou\CoordinateConversionService: ~

  Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\LazyBuilder: ~
  # Roadwork data client service.
  # Handles communication with the external roadwork data API.
  Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\RoadworkDataClient: ~

  # Alias for RoadworkDataClient to support dependency injection by interface.
  Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\RoadworkDataClientInterface: '@Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\RoadworkDataClient'

  # Service for processing and formatting roadwork data.
  Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\RoadworkDataService: ~

  # Alias for RoadworkDataService to support dependency injection by interface.
  Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\RoadworkDataServiceInterface: '@Drupal\helfi_etusivu\HelsinkiNearYou\RoadworkData\RoadworkDataService'

  Drupal\helfi_etusivu\EventSubscriber\ElasticsearchEventSubscriber: ~

  Drupal\helfi_etusivu\HelsinkiNearYou\Feedback\Client: ~
  Drupal\helfi_etusivu\HelsinkiNearYou\Feedback\LazyBuilder: ~

  Drupal\helfi_etusivu\HelsinkiNearYou\LinkedEvents\Client: ~
  Drupal\helfi_etusivu\HelsinkiNearYou\LinkedEvents\LazyBuilder: ~

  Drupal\helfi_etusivu\Render\Placeholder\BigPipeStrategy:
    parent: placeholder_strategy.big_pipe
    class: Drupal\helfi_etusivu\Render\Placeholder\BigPipeStrategy
    tags:
      # Priority higher than placeholder_strategy.big_pipe (priority 0), so that
      # our placeholder strategy is used by default. We only act on requests
      # with '_big_pipe_force_placeholders' route option set to true.
      - { name: placeholder_strategy, priority: 1 }

  Drupal\helfi_etusivu\Drush\Commands\RadioactivityCommand: ~
